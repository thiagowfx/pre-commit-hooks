# keep-sorted start newline_separated=yes
- id: check-bash-shebang
  name: Check bash scripts use portable shebang
  description: Ensure bash scripts use '#!/usr/bin/env bash' instead of '#!/bin/bash'
  language: script
  entry: scripts/check_bash_shebang.sh
  types:
    - bash
    - shell

- id: check-blank-first-line
  name: Ensure first line is not blank
  description: Ensure text files do not have a blank first line
  language: script
  entry: scripts/check_blank_first_line.sh --fix
  types:
    - text

- id: check-yaml-language-server
  name: Check YAML files have yaml-language-server directive
  description: Check that YAML files include a yaml-language-server schema directive
  language: script
  entry: scripts/check_yaml_language_server.sh
  types:
    - yaml

- id: check-yamlschema-local
  name: Check JSON schemas of YAML files are local
  description: Prevent YAML files from using remote schema references
  language: pygrep
  entry: '# yaml-language-server: \$schema=http'
  types:
    - yaml

- id: forbid-colon-filenames
  name: Forbid colons in filenames
  description: "Error: filenames containing ':' are not allowed."
  entry: "Filenames must not contain a colon (:) in their name."
  language: fail
  files: ".*:.*"  # match any path containing a colon

- id: just-format
  alias: format-justfiles
  name: Format Justfiles
  entry: scripts/just_fmt.sh
  language: script
  files: '\.?[jJ]ustfile$'

- id: pint
  name: Validate Prometheus rules with pint
  entry: pint --offline lint
  language: golang
  additional_dependencies:
    - github.com/cloudflare/pint/cmd/pint@v0.73.7
  types:
    - yaml

- id: sort-codeowners-sections
  name: Sort CODEOWNERS sections
  description: Sort [section] blocks alphabetically in CODEOWNERS-style files
  language: script
  entry: scripts/sort_codeowners_sections.sh --fix
  files: 'OWNERS$'
# keep-sorted end
